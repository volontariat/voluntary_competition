<%= form_tag updates_competition_season_matches_path(@season.id), method: :put, remote: true, id: 'bracket_matches_form' do %>
  <%= hidden_field_tag 'from_bracket', true %>
  <%= hidden_field_tag 'matchday', @season.current_matchday %>
  <table cellspacing="0" cellpadding="0" border="0" style="font-size:70%; margin:1em 2em 1em 1em; border-collapse: separate;">
    <tbody>
      <tr>
        <td>&nbsp;</td>
  <% @winner_rounds.times do |round| %>      
    <% with_second_leg = @with_second_leg && round + 1 != @winner_rounds ? true : false %>
        <td style="border:1px solid #AAAAAA; background:#F2F2F2; text-align:center;" colspan="<%= with_second_leg ? 4 : 2 %>"><%= round_title(true, round + 1) %></td>
    <% unless round + 1 == @winner_rounds %>    
        <td colspan="2"></td>
    <% end %>
  <% end %>      
      </tr>
      <tr>
        <td>&nbsp;</td>     
  <% @winner_rounds.times do |round| %>      
        <td style="width:125px;">&nbsp;</td>
        <td style="width:40px;">&nbsp;</td>
    <% if @with_second_leg && round + 1 != @winner_rounds %>
        <td style="width:40px;">&nbsp;</td>
        <td style="width:40px;">&nbsp;</td>
    <% end %>  
    <% unless round + 1 == @winner_rounds %>    
        <td style="width:15px;">&nbsp;</td>
        <td style="width:15px;">&nbsp;</td>
    <% end %>
  <% end %>
      </tr>   
  <% @matches[true][1][1].each do |match| %>
      <%= render partial: 'competition/tournament_seasons/bracket_set', locals: { of_winners_bracket: true, match: match } %>
  <% end %>
    </tbody>
  </table>
  
  <% if @can_update_season %>
  <p><%= submit_tag t('general.submit'), class: 'btn' %> <%= image_tag 'voluntary/spinner.gif', class: 'hide', id: 'bracket_matches_spinner' %></p>
  <% end %>
<% end %>